# T1-hackathon — Кейс: Цифровой Дресс-Код

Команда (MFK Team):
- Владимир Максимов
    - ВУЗ: СПбГЭУ (4 курс, направление ПМИ)
    - Участие в проекте: разработка web интерфейса, деплой ML модели
- Роман Федоров
    - ВУЗ: СПбГЭУ (4 курс, направление ПМИ)
    - Участие в проекте: работа с ML моделями, работа с OpenCV
- Кирилл Корягин
    - ВУЗ: СПбГЭУ (4 курс, направление ПМИ)
    - Участие в проекте: поиск, настройка и работа с ML моделями

Демо-приложение на **React + TypeScript**, которое в реальном времени "вырезает" человека из видеопотока веб-камеры и подставляет выбранный фон. Есть управление непрозрачностью фона, сглаживанием краёв маски, загрузка JSON-профиля сотрудника с оверлеем в правом верхнем углу, а также панель метрик (Backend/FPS/Latency).

---

## Как опробовать

### 1) Онлайн

Перейдите по ссылке: **[https://vladimirmaximov.github.io/t1-hackathon/](https://vladimirmaximov.github.io/t1-hackathon/)**
Разрешите доступ к камере, выберите фон, нажмите «Зафиксировать фон и начать».

### 2) Локально

Понадобятся Node.js 20+ версии и npm (инструкции к установке можно найти в интернете).

Что касается непосредственно проекта:

1. Склонировать репозиторий:

   ```bash
   git clone https://github.com/VladimirMaximov/t1-hackathon
   cd t1-hackathon
   ```

2. Установить зависимости:

   ```bash
   npm ci
   ```

3. Запустить dev-сервер:

   ```bash
   npm run dev
   ```

   Откройте адрес из терминала (`http://localhost:5173`) и разрешите доступ к камере.


---

## Что можно делать в приложении

* Выбрать один из 6 фонов.
* Нажать "Зафиксировать фон и начать" — пойдёт видео с заменой заднего фона (возможно придется немного подождать).
* Слайдер "Непрозрачность фона" (0–100) — смешивает реальный и подставной фон.
* Слайдер "Сглаживание маски (px)" (0–15) — мягкость края выреза.
* Кнопка "Загрузить JSON данные" — показать оверлей сотрудника (логотип + ФИО крупно, ниже — доп. сведения по уровню приватности).
* Панель "Информация о системе" — Backend (автовыбор TFJS), FPS, Latency — обновляются в реальном времени.

Пример JSON для оверлея:

```json
{
  "employee": {
    "full_name": "Ирина Петрова",
    "position": "Продуктовый дизайнер",
    "company": "Acme Tech",
    "department": "Design",
    "office_location": "Москва",
    "contact": { "email": "irina.petrova@example.com", "telegram": "@ipetrova" },
    "branding": {
      "logo_url": "logos/1.svg",
      "corporate_colors": { "primary": "#2E7DFF", "secondary": "#24D6C7" }
    },
    "privacy_level": "medium"
  }
}
```

Файлы логотипов лежат в `public/logos/1.svg…6.svg`. Можно указывать и абсолютные URL при необходимости.

---

## Технологический стек

* **Ядро приложения:**

  * React 18 + TypeScript, Vite (dev/сборка/preview)
  * HTML5 Canvas 2D (compositing, blur-перо)
  * MediaDevices / getUserMedia (веб-камера)

* **ML / сегментация:**

  * TensorFlow.js + `@tensorflow-models/body-segmentation` (Selfie-segmentation, TFJS)
  * Автоматический выбор backend: WebGPU / WebGL / WASM (в зависимости от возможностей браузера)

* **UI/стили:**

  * кастомный CSS (в стиле дизайна Т1 Холдинга)
  * адаптивная подгонка холста под контейнер


---

## Ограничения

* Нужен современный Chrome (113+)//Firefox (110+). На мобильных возможны ограничения по камере. Для браузера Safari во 1 не поддерживается WebGPU, во 2 при прокрутке ползунка "Сглаживание" может крашиться приложение (какие-то несовместимости).
* WebGPU работает сильно не везде (например в Safari его нет) — TFJS автоматически переключится на WebGL/WASM.
